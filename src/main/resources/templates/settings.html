<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/default}">
<head>
    <title>Settings</title>
    <link rel="stylesheet" th:href="@{/css/settings.css}"/>
</head>
<body>
<div layout:fragment="content">

    <div class="settings-header">
        <h1>Settings</h1>
        <p>앱 환경을 설정합니다.</p>
    </div>

    <div class="settings-section">
        <div class="settings-section-title">Appearance</div>
        <div class="settings-card">
            <div class="settings-item">
                <div class="settings-item-info">
                    <span class="settings-item-label">Light Mode</span>
                    <span class="settings-item-desc">밝은 테마로 전환합니다.</span>
                </div>
                <div class="theme-control">
                    <span class="theme-label" id="themeLabel">Dark</span>
                    <label class="toggle-switch">
                        <input type="checkbox" data-theme-toggle onclick="FolioTheme.toggle()"/>
                        <span class="toggle-slider"></span>
                    </label>
                </div>
            </div>
        </div>
    </div>

</div>

<script>
    // 토글 상태 및 라벨 동기화
    document.addEventListener('DOMContentLoaded', function () {
        function syncUI() {
            var theme = FolioTheme.get();
            var label = document.getElementById('themeLabel');
            if (label) label.textContent = theme === 'dark' ? 'Dark' : 'Light';
        }
        syncUI();

        // 토글 클릭 후 라벨도 업데이트
        var toggle = document.querySelector('[data-theme-toggle]');
        if (toggle) {
            toggle.addEventListener('change', function () {
                setTimeout(syncUI, 50);
            });
        }
    });
</script>

</body>
</html>
